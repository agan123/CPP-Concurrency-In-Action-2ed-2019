# 第5章 C++内存模型和原子类型操作

**本章主要内容**

- C++11内存模型详解<br>
- 标准库提供的原子类型<br>
- 使用各种原子类型<br>
- 原子操作实现线程同步功能<br>

C++标准中，有一个十分重要特性，常被程序员们所忽略。它不是一个新语法特性，也不是新工具，它就是多线程感知内存模型。如果没有内存模型明确定义构件的工作方式，那么之前介绍的那些工具就无法正常工作。那为什么大多数程序员都没有注意到它呢？当使用互斥量保护数据和条件变量，使用future, latch, barrier处理事件时，对于他们为什么能够工作的细节并不关心。只有当试图去“接触硬件”，才能详尽的了解到内存模型是如何起作用的。

C++是一个系统级别的编程语言，标准委员会的目标之一就是不需要比C++还要底层的高级语言。C++应该向程序员提供足够的灵活性，无障碍的去做他们想要做的事情；当需要的时候，可以让他们“接触硬件”。原子类型和操作允许这样做，为底层同步操作提供了便利，这些操作通常会减少到一个或两个CPU指令。

本章，我们将讨论内存模型的基本知识，再了解一下原子类型和操作，最后了解与原子类型操作相关的各种同步。这个过程会比较复杂：除非已经打算使用原子操作(比如，第7章的无锁数据结构)同步你的代码；否则，就没有必要了解过多的细节。

让我们先轻松愉快的来看一下有关内存模型的基本知识。
